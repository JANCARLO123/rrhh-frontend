<div id="content">

	<simple-notifications [options]="options"></simple-notifications>

	<div class="row">
		<sa-big-breadcrumbs [items]="['Gestion de Tiempo', 'Horarios']" icon="group"
							class="col-xs-12 col-sm-7 col-md-7 col-lg-4"></sa-big-breadcrumbs>
	</div>


	<sa-widgets-grid>
		<!-- row -->

		<div class="row">

			<h2 class="row-seperator-header"> Horario </h2>

			<!-- NEW WIDGET START -->
			<div class="col-12">

				<!-- Widget ID (each widget will need unique ID)-->
				<sa-widget [colorbutton]="false" [editbutton]="false" [fullscreenbutton]="false" [custombutton]="false"
						   [sortable]="false">

					<div class="smart-form">
						<div class="row">
							<section class="col col-md-6">
								<a (click)="onRegresarBusquedaHorario()" class="btn btn-default btn-lg"><i class="fa fa-arrow-circle-left"></i> Regresar</a>
							</section>

							<section class="col col-md-6 text-right">
								<a (click)="onRegistrarHorario()" class="btn btn-primary btn-lg"><i class="fa fa-save"></i> Guardar</a>
							</section>
						</div>
					</div>

					<!-- widget div-->
					<div>

						<!-- widget content -->
						<div class="widget-body">

							<div class="well well-sm well-light">

								<div class="padding-10">

									<div>
										<fieldset>
											<legend>Datos</legend>

											<div class="smart-form">

												<div class="row">

													<section class="col col-md-4">
														<label>Tipo Horario<span style="color: red">*</span></label>
														<label class="input">
															<kendo-dropdownlist [data]="tiposHorario" [textField]="'nombre'" [valueField]="'codigo'" [(ngModel)]="horario.tipoHorario" [defaultItem]="defaultItem" [valuePrimitive]="true" style="width: 100%;" (selectionChange)="onChangeTipoHorario($event)" [disabled]="isEdit"></kendo-dropdownlist>
														</label>

													</section>
													<section class="col col-md-4">
														<label>Proyecto</label>
														<label class="input ">
															<kendo-dropdownlist [data]="proyectos" [textField]="'nombre'" [valueField]="'idProyecto'" [defaultItem]="defaultItem"   [(ngModel)]="horario.idProyecto" [valuePrimitive]="true" style="width: 100%;" [disabled]="isEmpresa"></kendo-dropdownlist>
														</label>

													</section>

													<section class="col col-md-4">
														<label>Por Defecto</label>
														<label class="select">
															<input type="checkbox" [(ngModel)]="horario.porDefecto" [disabled]="isEdit"/>
														</label>
													</section>
												</div>

												<div class="row">

													<section class="col col-md-4">
														<label>Nombre<span style="color: red">*</span></label>
														<label [class]="classEdit">
															<input type="text"  id="nombreHorario" [(ngModel)]="horario.nombre" [disabled]="isEdit" (keyup)="ingresaNombreHorario()"/>
														</label>
													</section>
													<section class="col col-md-4">
														<label>Estado<span style="color: red">*</span></label>
														<label [class]="classEdit">
															<kendo-dropdownlist [data]="estados" [textField]="'nombre'" [valueField]="'codigo'" [defaultItem]="defaultItem"  [(ngModel)]="horario.estado" [valuePrimitive]="true" style="width: 100%;"  [disabled]="isEdit"></kendo-dropdownlist>
														</label>

													</section>
												</div>

												<div class="row">

													<section class="col col-md-4">
														<label>Horas por Semana<span style="color: red">*</span></label>
														<label [class]="classEdit">
															<input type="text" id="horasSemana" [(ngModel)]="horario.horasSemanal" (keyup)="ingresaHorasSemanal()" [disabled]="isEdit"/>
														</label>
													</section>

													<section class="col col-md-4">
														<label>Horas Cubiertas</label>
														<label class="input state-disabled">
															<input type="text" disabled="disabled"/>
														</label>
													</section>
												</div>

											</div>
										</fieldset>



									</div>

									<div>
										<fieldset>


											<kendo-grid [data]="horarioDias" >

												<kendo-grid-column field="idHorarioDia" title=" " [width]="40">
													<template kendoCellTemplate let-dataItemHorarioDia>
														<div class="text-center">
															<a href="javascript:void(0)" class="link" (click)="onEditarHorarioDia(dataItemHorarioDia)">
																<span class="fa fa-pencil"></span></a>
														</div>
													</template>
												</kendo-grid-column>


												<kendo-grid-column field="nombreDiaSemana" title="Dia" [width]="150"></kendo-grid-column>
												<kendo-grid-column field="laboral" title="Laboral" [width]="200"></kendo-grid-column>
												<kendo-grid-column field="entrada" title="Entrada" [width]="100"></kendo-grid-column>
												<kendo-grid-column field="salida" title="Salida" [width]="100"></kendo-grid-column>
												<kendo-grid-column field="tiempoAlmuerzo" title="Almuerzo" [width]="100"></kendo-grid-column>
											</kendo-grid>
											<horario-dia-dialog-form [model]="dataItemHorarioDia" (cancel)="onCancelarHorarioDia()" (save)="onAgregarHorarioDia($event)"></horario-dia-dialog-form>

										</fieldset>

									</div>

								</div>

							</div>

							<!-- Dialog-->
							<div id="dialog-message" title="Mensaje">
								<!-- dialog header // removing on compile-->
								<p>
									{{mensaje}}
								</p>

							</div>
							<!-- End dialog -->

						</div>
					</div>
				</sa-widget>
			</div>
			<!-- WIDGET END -->
		</div>


	</sa-widgets-grid>

</div>
